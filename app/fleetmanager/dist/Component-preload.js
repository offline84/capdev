//@ui5-bundle fleetmanager/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"fleetmanager/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","fleetmanager/model/models"],function(e,t,i){"use strict";return e.extend("fleetmanager.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device")}})});
},
	"fleetmanager/controller/App.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("fleetmanager.controller.App",{onInit(){}})});
},
	"fleetmanager/controller/fleet.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/Fragment","sap/m/Dialog","sap/m/MessageToast","sap/m/MessageBox","../utils/validator","sap/ui/model/json/JSONModel","sap/ui/core/format/DateFormat"],function(e,t,i,a,o,l,n,r,s,g){"use strict";var c=e.extend("fleetmanager.controller.fleet",{onInit(){var e={VIN_NUMBER:"",BRAND:"",MODEL:"",COLOR:"",TYPE_OF_CAR:"",FIRST_USE:null};var t=new s(e);this.getView().setModel(t,"vehicleModel");var i={VIN_NUMBER_STATE_TEXT:"",VIN_NUMBER_STATE:"None",BRAND_STATE_TEXT:"",BRAND_STATE:"None",MODEL_STATE_TEXT:"",MODEL_STATE:"None"};var a=new s(i);this.getView().setModel(a,"vehicleStateModel");var o={maxDate:new Date};var l=new s(o);this.getView().setModel(l,"dateModel");var n={VIN_NUMBER:false,BRAND:false,MODEL:false,COLOR:false,TYPE_OF_CAR:false,FIRST_USE:false};var r=new s(n);this.getView().setModel(r,"editableInput")},onSearch:function(e){var a=e.getSource().getValue();if(a||a==""){var o=new t({filters:[new t({path:"MODEL",operator:i.Contains,value1:a,caseSensitive:false},i.Contains,a),new t({path:"BRAND",operator:i.Contains,value1:a,caseSensitive:false},i.Contains,a),new t({path:"COLOR",operator:i.Contains,value1:a,caseSensitive:false},i.Contains,a),new t({path:"TYPE_OF_CAR",operator:i.Contains,value1:a,caseSensitive:false},i.Contains,a),new t({path:"VIN_NUMBER",operator:i.Contains,value1:a,caseSensitive:false},i.Contains,a)]});var l=this.byId("fleetmanagerTable");var n=l.getBinding("items");n.filter(o,"Application")}},onPressNewVehicleButton:function(){if(!this.oDialog){this.oDialog=this.loadFragment({name:"fleetmanager.fragment.newVehicleDialog"})}this.oDialog.then(function(e){e.open()})},onSubmitPressed:function(){var e=this.getView().getModel("vehicleModel");let t=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var i=null;if(e.getProperty("/FIRST_USE")){i=t.format(e.getProperty("/FIRST_USE"))}var a={MODEL:e.getProperty("/MODEL"),BRAND:e.getProperty("/BRAND"),COLOR:e.getProperty("/COLOR"),TYPE_OF_CAR:e.getProperty("/TYPE_OF_CAR"),VIN_NUMBER:e.getProperty("/VIN_NUMBER"),FIRST_USE:i};var o=this.getView().byId("fleetmanagerTable").getBinding("items");if(a.VIN_NUMBER!=""&&a.MODEL!=""&&a.BRAND!=""){try{o.create(a)}catch(e){n.error("An error has occured during creation of the new Vehicle: /n",e)}this.byId("newVehicleDialog").close();for(const[t,i]of Object.entries(a)){if(t=="FIRST_USE"){e.setProperty("/"+t,null)}else e.setProperty("/"+t,"")}}else n.warning("New vehicle contains invalid fields!")},onChangeVinNumber:function(e){var t=r.validateVinNumber(e.getParameter("value"));this.getView().getModel("vehicleStateModel").setProperty("/VIN_NUMBER_STATE",t?"Error":"None");this.getView().getModel("vehicleStateModel").setProperty("/VIN_NUMBER_STATE_TEXT",t?t:null)},onChangeModel:function(e){var t=r.validateModel(e.getParameter("value"));this.getView().getModel("vehicleStateModel").setProperty("/MODEL_STATE",t?"Error":"None");this.getView().getModel("vehicleStateModel").setProperty("/MODEL_STATE_TEXT",t?t:null)},onChangeBrand:function(e){var t=r.validateModel(e.getParameter("value"));this.getView().getModel("vehicleStateModel").setProperty("/BRAND_STATE",t?"Error":"None");this.getView().getModel("vehicleStateModel").setProperty("/BRAND_STATE_TEXT",t?t:null)},onNewVehicleDialogCancelled:function(){this.byId("newVehicleDialog").close();l.show("No vehicle was added")},onDeleteSingleVehiclePressed:function(e){var t=e.getSource().getBindingContext();var i=t.getObject();n.warning("Are you sure you want to delete vehicle "+i.BRAND+" "+i.MODEL+"?",{actions:[n.Action.DELETE,n.Action.CANCEL],emphasizedAction:n.Action.DELETE,onClose:function(e){if(e==="DELETE"){t.delete();if(!t.hasPendingChanges()){l.show("Vehicle was successfully deleted")}}}});this._ViewDetailsDialog.close()},onShowDetailsSingleVehiclePressed:function(e){if(!this._ViewDetailsDialog){this.viewDetailsDialog="detailsVehicleDialog";this._ViewDetailsDialog=new sap.ui.xmlfragment(this.viewDetailsDialog,"fleetmanager.fragment.detailsVehicleDialog",this);this.getView().addDependent(this._ViewDetailsDialog)}var t=e.getSource().getBindingContext();let i=t.getObject();let a=i.FIRST_USE;if(a){i.FIRST_USE=new Date(a)}var o=new s(i);this._ViewDetailsDialog.setBindingContext(t);this._ViewDetailsDialog.setModel(o,"detailsVehicleModel");let l=this.getView().getModel("editableInput");for(const[e,t]of Object.entries(i)){if(t==""||t==null){l.setProperty("/"+e,true)}else{l.setProperty("/"+e,false)}}this._ViewDetailsDialog.open()},onDetailsVehicleDialogClosePressed:function(){this._ViewDetailsDialog.close()},onEditVehiclePressed:function(e){var t=e.getSource().getBindingContext();var i=this._ViewDetailsDialog.getModel("detailsVehicleModel");var a=t.getObject();let o=sap.ui.core.format.DateFormat.getDateInstance({pattern:"yyyy-MM-dd"});var l=null;console.log(i.getProperty("/FIRST_USE"));if(i.getProperty("/FIRST_USE")){l=o.format(i.getProperty("/FIRST_USE"));i.setProperty("/FIRST_USE",l)}for(const[e,o]of Object.entries(a)){let a=i.getProperty("/"+e);if(a!=o){try{t.setProperty(e,i.getProperty("/"+e))}catch(e){n.error("Updating vehicle encountered an error: /n"+e)}}}}});return c});
},
	"fleetmanager/fragment/detailsVehicleDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog id="detailsVehicleDialog" contentWidth="50%" title="Vehicle details"><HBox width="100%"><CheckBox text="Edit all fields" visible="false" useEntireWidth="true" /><VBox class="sapUiSmallMargin" width="50%"><Label id="vinNumberLabel" text="VIN-number" labelFor="vinNumberInput" /><Input id="vinNumberInput" \n                    value= "{detailsVehicleModel>/VIN_NUMBER}" \n                    editable="{editableInput>/VIN_NUMBER}"\n                    liveChange="onChangeVinNumber" \n                    valueLiveUpdate="true" \n                    placeholder="enter VIN-number here" \n                    valueState= "{vehicleStateModel>/VIN_NUMBER_STATE}" \n                    valueStateText= "{vehicleStateModel>/VIN_NUMBER_STATE_TEXT}" \n                    /><Label id="modelLabel" text="Model" labelFor="modelInput" /><Input id="modelInput"\n                    value= "{ path:\'detailsVehicleModel>/MODEL\'}" \n                    editable="{editableInput>/MODEL}"\n                    placeholder="enter model here"\n                    liveChange="onChangeModel" \n                    valueLiveUpdate="true" \n                    valueState= "{vehicleStateModel>/MODEL_STATE}"\n                    valueStateText= "{vehicleStateModel>/MODEL_STATE_TEXT}"\n                     /><Label id="brandLabel" text="Brand" labelFor="brandInput" /><Input id="brandInput"\n                    visible= "true"\n                    value= "{path:\'detailsVehicleModel>/BRAND\'}" \n                    editable="{editableInput>/BRAND}"\n                    placeholder="enter brand here"\n                    liveChange="onChangeBrand" \n                    valueLiveUpdate="true" \n                    valueState= "{vehicleStateModel>/BRAND_STATE}"\n                    valueStateText= "{vehicleStateModel>/BRAND_STATE_TEXT}"\n                     /></VBox><VBox class="sapUiSmallMargin" width="50%"><Label id="colorLabel" text="Color" labelFor="colorInput" /><Input id="colorInput"\n                    value= "{\n                        path:\'detailsVehicleModel>/COLOR\',\n                        type: \'sap.ui.model.type.String\'                      \n                    }" \n                    editable="{editableInput>/COLOR}"\n                    placeholder="enter color here" /><Label id="tocLabel" text="Type of car" labelFor="tocInput" /><Input id="tocInput" \n                    value= "{\n                        path:\'detailsVehicleModel>/TYPE_OF_CAR\',\n                        type: \'sap.ui.model.type.String\'                      \n                    }" \n                    editable="{editableInput>/TYPE_OF_CAR}"\n                    placeholder="enter type of car here" /><Label id="firstUseLabel" text="Date Of first use" labelFor="dateOfFirstUse" /><DatePicker\t\n                    id="viewDateOfFirstUse" \n                    value= "{\n                        path:\'detailsVehicleModel>/FIRST_USE\',\n                        type: \'sap.ui.model.type.Date\'\n                        }" \n                    editable="{editableInput>/FIRST_USE}"\t\n                    maxDate="{dateModel>/maxDate}"\n                    placeholder="Enter Date"/></VBox></HBox><buttons><Button press ="onDeleteSingleVehiclePressed" icon="sap-icon://delete" /><Button icon="sap-icon://edit" press="onEditVehiclePressed"/><Button icon="sap-icon://decline" press=".onDetailsVehicleDialogClosePressed"/></buttons></Dialog></core:FragmentDefinition>\n',
	"fleetmanager/fragment/newVehicleDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog id="newVehicleDialog" contentWidth="50%" title="New Vehicle"><HBox width="100%"><VBox class="sapUiSmallMargin" width="50%"><Label id="vinNumberLabel" text="VIN-number" labelFor="vinNumberInput" /><Input id="vinNumberInput" \n                    value= "{vehicleModel>/VIN_NUMBER}" \n                    liveChange="onChangeVinNumber" \n                    valueLiveUpdate="true" \n                    placeholder="enter VIN-number here" \n                    valueState= "{vehicleStateModel>/VIN_NUMBER_STATE}" \n                    valueStateText= "{vehicleStateModel>/VIN_NUMBER_STATE_TEXT}" \n                    /><Label id="modelLabel" text="Model" labelFor="modelInput" /><Input id="modelInput"\n                    value= "{ path:\'vehicleModel>/MODEL\'}" \n                    placeholder="enter model here"\n                    liveChange="onChangeModel" \n                    valueLiveUpdate="true" \n                    valueState= "{vehicleStateModel>/MODEL_STATE}"\n                    valueStateText= "{vehicleStateModel>/MODEL_STATE_TEXT}"\n                     /><Label id="brandLabel" text="Brand" labelFor="brandInput" /><Input id="brandInput"\n                    value= "{path:\'vehicleModel>/BRAND\'}"  \n                    placeholder="enter brand here"\n                    liveChange="onChangeBrand" \n                    valueLiveUpdate="true" \n                    valueState= "{vehicleStateModel>/BRAND_STATE}"\n                    valueStateText= "{vehicleStateModel>/BRAND_STATE_TEXT}"\n                     /></VBox><VBox class="sapUiSmallMargin" width="50%"><Label id="colorLabel" text="Color" labelFor="colorInput" /><Input id="colorInput" value= "{\n                        path:\'vehicleModel>/COLOR\',\n                        type: \'sap.ui.model.type.String\'                      \n                    }" placeholder="enter color here" /><Label id="tocLabel" text="Type of car" labelFor="tocInput" /><Input id="tocInput" value= "{\n                        path:\'vehicleModel>/TYPE_OF_CAR\',\n                        type: \'sap.ui.model.type.String\'                      \n                    }" placeholder="enter type of car here" /><Label id="firstUseLabel" text="Date Of first use" labelFor="dateOfFirstUse" /><DatePicker\tid="dateOfFirstUse" value= "{\n                        path:\'vehicleModel>/FIRST_USE\',\n                        type: \'sap.ui.model.type.Date\'\n                    }" \n                    maxDate="{dateModel>/maxDate}"\n                    placeholder="Enter Date"/></VBox></HBox><beginButton><Button icon="sap-icon://cancel" press=".onNewVehicleDialogCancelled"></Button></beginButton><endButton><Button text="Submit" press=".onSubmitPressed"></Button></endButton></Dialog></core:FragmentDefinition>\n',
	"fleetmanager/i18n/i18n_en.properties":'# This is the resource bundle for fleetmanager\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=fleetmanager\n\n#YDES: Application description\nappDescription=a SAPUI5 application to manage a carpark\n#XTIT: Main view title\ntitle=fleetmanager',
	"fleetmanager/manifest.json":'{"_version":"1.42.0","sap.app":{"id":"fleetmanager","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.8.0","toolsId":"85968a6e-e280-4ae1-9f3e-149cc1af94c6"},"dataSources":{"mainService":{"uri":"fleet/","type":"OData","settings":{"annotations":[],"localUri":"localService/metadata.xml","odataVersion":"4.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"handleValidation":true,"dependencies":{"minUI5Version":"1.102.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.suite.ui.generic.template":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.ui.table":{},"sap.ushell":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"fleetmanager.i18n.i18n","fallbackLocale":"en","supportedLocales":["en"]}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"fleetmanager.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"RoutefleetView","pattern":"","target":["TargetfleetView"]}],"targets":{"TargetfleetView":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"fleet","viewName":"fleet"}}},"rootView":{"viewName":"fleetmanager.view.App","type":"XML","async":true,"id":"App"}}}',
	"fleetmanager/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"fleetmanager/utils/locate-reuse-libs.js":'(function(e){var t=function(e,t){var n=["sap.apf","sap.base","sap.chart","sap.collaboration","sap.f","sap.fe","sap.fileviewer","sap.gantt","sap.landvisz","sap.m","sap.ndc","sap.ovp","sap.rules","sap.suite","sap.tnt","sap.ui","sap.uiext","sap.ushell","sap.uxap","sap.viz","sap.webanalytics","sap.zen"];Object.keys(e).forEach(function(e){if(!n.some(function(t){return e===t||e.startsWith(t+".")})){if(t.length>0){t=t+","+e}else{t=e}}});return t};var n=function(e){var n="";if(e){if(e["sap.ui5"]&&e["sap.ui5"].dependencies){if(e["sap.ui5"].dependencies.libs){n=t(e["sap.ui5"].dependencies.libs,n)}if(e["sap.ui5"].dependencies.components){n=t(e["sap.ui5"].dependencies.components,n)}}if(e["sap.ui5"]&&e["sap.ui5"].componentUsages){n=t(e["sap.ui5"].componentUsages,n)}}return n};var r=function(e){var t=e;return new Promise(function(r,a){$.ajax(t).done(function(e){r(n(e))}).fail(function(){a(new Error("Could not fetch manifest at \'"+e))})})};var a=function(e){if(e){Object.keys(e).forEach(function(t){var n=e[t];if(n&&n.dependencies){n.dependencies.forEach(function(e){if(e.url&&e.url.length>0&&e.type==="UI5LIB"){jQuery.sap.log.info("Registering Library "+e.componentId+" from server "+e.url);jQuery.sap.registerModulePath(e.componentId,e.url)}})}})}};e.registerComponentDependencyPaths=function(e){return r(e).then(function(e){if(e&&e.length>0){var t="/sap/bc/ui2/app_index/ui5_app_info?id="+e;var n=jQuery.sap.getUriParameters().get("sap-client");if(n&&n.length===3){t=t+"&sap-client="+n}return $.ajax(t).done(a)}})}})(sap);var scripts=document.getElementsByTagName("script");var currentScript=document.getElementById("locate-reuse-libs");if(!currentScript){currentScript=document.currentScript}var manifestUri=currentScript.getAttribute("data-sap-ui-manifest-uri");var componentName=currentScript.getAttribute("data-sap-ui-componentName");var useMockserver=currentScript.getAttribute("data-sap-ui-use-mockserver");var bundleResources=function(){jQuery.sap.require("jquery.sap.resources");var e=sap.ui.getCore().getConfiguration().getLanguage();var t=jQuery.sap.resources({url:"i18n/i18n.properties",locale:e});document.title=t.getText("appTitle")};sap.registerComponentDependencyPaths(manifestUri).catch(function(e){jQuery.sap.log.error(e)}).finally(function(){sap.ui.getCore().attachInit(bundleResources);if(componentName&&componentName.length>0){if(useMockserver&&useMockserver==="true"){sap.ui.getCore().attachInit(function(){sap.ui.require([componentName.replace(/\\./g,"/")+"/localService/mockserver"],function(e){e.init();sap.ushell.Container.createRenderer().placeAt("content")})})}else{sap.ui.require(["sap/ui/core/ComponentSupport"]);sap.ui.getCore().attachInit(bundleResources)}}else{sap.ui.getCore().attachInit(function(){sap.ushell.Container.createRenderer().placeAt("content")})}});sap.registerComponentDependencyPaths(manifestUri);',
	"fleetmanager/utils/validator.js":function(){sap.ui.define([],function(){"use strict";return{validateVinNumber(e){const r=new RegExp("[A-Ha-hJ-Nj-nPR-Zr-z0-9]{13}[0-9]{4}");var i=r.test(e);if(e.trim().length==0){return"VIN number is a required field"}if(!i){return"The VIN number is incorrect"}},validateModel(e){if(e.trim().length==0){return"Model is a required field"}},validateBrand(e){if(e.trim().length==0){return"Brand is a required field"}},validateDate(e){if(e>Date.now()){return"Date of first use can't be in the future"}}}});
},
	"fleetmanager/view/App.view.xml":'<mvc:View controllerName="fleetmanager.controller.App"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"><App id="app"></App></mvc:View>\n',
	"fleetmanager/view/fleet.view.xml":'<mvc:View controllerName="fleetmanager.controller.fleet"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"><Table id="fleetmanagerTable"\n\t\tinset="false"\n\t\talternateRowColors="true"\n\t\titems="{\n\t\t\tpath: \'/Vehicles\'\n\t\t}"><headerToolbar><OverflowToolbar id="generalFunctionsBar"><Title id ="idTableheader" text="FleetManager" level="H2"/><ToolbarSpacer id="tbs"/><SearchField id="search" liveChange=".onSearch" width="20%" /><Label id="buttonLabel" text="Actions:"/><Button id="newVehicle" press=".onPressNewVehicleButton" type="Emphasized" icon="sap-icon://add"/></OverflowToolbar></headerToolbar><columns><Column id="uid"\n\t\t\t\twidth="4em"><Text text="UID" /></Column><Column id="vin"\n\t\t\t\tminScreenWidth="Tablet"\n\t\t\t\tdemandPopin="true"><Text text="VIN indicator" /></Column><Column id="brandmodel"\n\t\t\t\tminScreenWidth="Tablet"\n\t\t\t\tdemandPopin="true"><Text text="Brand and Model" /></Column><Column id="color"\n\t\t\t\tminScreenWidth="Tablet"\n\t\t\t\tdemandPopin="true"><Text text="Color" /></Column><Column id="type"\n\t\t\t\tminScreenWidth="Tablet"\n\t\t\t\tdemandPopin="true"><Text id="typetxt" text="Type Of Car" /></Column><Column id="doors"\n\t\t\t\tminScreenWidth="Tablet"\n\t\t\t\tdemandPopin="true"><Text id="doortxt" text="# doors" /></Column><Column id="firstuse"\n\t\t\t\tminScreenWidth="Tablet"\n\t\t\t\tdemandPopin="true"><Text text="Date of first use" /></Column><Column id="action"\n\t\t\t\tminScreenWidth="Tablet"\n\t\t\t\tdemandPopin="true"\n\t\t\t\thAlign="End"><Text id="actiontxt" text="Actions" /></Column></columns><items><ColumnListItem id="listItem" vAlign="Middle"><cells><ObjectIdentifier id="idcell"\n\t\t\t\t\t\ttext="{ID}"/><Text id="VINcar"\n\t\t\t\t\t\ttext="{VIN_NUMBER}" /><Text id="brandmodelcell"\n\t\t\t\t\t\ttext="{BRAND} {MODEL}" /><Text id="colorcar"\n\t\t\t\t\t\ttext="{COLOR}" /><Text id="typecar"\n\t\t\t\t\t\ttext="{TYPE_OF_CAR/CARTYPE}" /><Text id="doorcount"\n\t\t\t\t\t\ttext="{TYPE_OF_CARS/DOOR_COUNT}" /><Text id="firstusecar"\n\t\t\t\t\t\ttext="{FIRST_USE}" /><Button id="detailsButton" press=".onShowDetailsSingleVehiclePressed" icon="sap-icon://form"></Button></cells></ColumnListItem></items></Table></mvc:View>\n'
}});
